"use strict";(self.webpackChunkzano_docs=self.webpackChunkzano_docs||[]).push([[1065],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>h});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(s,".").concat(m)]||u[m]||p[m]||o;return n?a.createElement(h,i(i({ref:t},d),{},{components:n})):a.createElement(h,i({ref:t},d))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1987:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={},i="Hi-Load Servers (WARP-mode)",l={unversionedId:"build/exchange-guidelines/production-node",id:"build/exchange-guidelines/production-node",title:"Hi-Load Servers (WARP-mode)",description:"To improve the efficiency of production servers under heavy loads\u2014such as remote nodes for mobile wallets\u2014we have implemented a special daemon mode called WARP-mode(derived from \u201cfull warm up\u201d). This mode requires at least 64GB of physical RAM, but it can deliver up to a x20 performance boost compared to the standard mode.",source:"@site/docs/build/exchange-guidelines/production-node.md",sourceDirName:"build/exchange-guidelines",slug:"/build/exchange-guidelines/production-node",permalink:"/docs/build/exchange-guidelines/production-node",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"buildSidebar",previous:{title:"JWT Authentication Guide",permalink:"/docs/build/exchange-guidelines/jwt-guide"},next:{title:"Signing transactions offline (cold-signing process)",permalink:"/docs/build/exchange-guidelines/signing-transactions-offline"}},s={},c=[{value:"Technical Note",id:"technical-note",level:3}],d={toc:c},u="wrapper";function p(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"hi-load-servers-warp-mode"},"Hi-Load Servers (WARP-mode)"),(0,r.kt)("p",null,"To improve the efficiency of production servers under heavy loads\u2014such as remote nodes for mobile wallets\u2014we have implemented a special daemon mode called ",(0,r.kt)("strong",{parentName:"p"},"WARP-mode"),"(derived from \u201cfull warm up\u201d). This mode requires at least 64GB of physical RAM, but it can deliver up to a x20 performance boost compared to the standard mode."),(0,r.kt)("p",null,"To use WARP-mode, make sure your server has at least 64 GB of physical RAM."),(0,r.kt)("p",null,"To enable WARP-mode launch daemon with this command line option:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"zanod --do-warp-mode\n\n2025-Mar-13 13:51:18.787912 Zano v2.1.0.382[926549e]\n2025-Mar-13 13:51:18.793423 Starting...\n2025-Mar-13 13:51:18.794923 Module folder: C:\\Users\\roky\\home\\projects\\zano_UI_x64\\build\\src\\Release\\zanod.exe\n2025-Mar-13 13:51:18.806597 Pre-downloading not needed (db file size = 12569350144)\n2025-Mar-13 13:51:18.808596 Initializing p2p server...\n......\n2025-Mar-13 13:51:19.042870 Core initialized OK\n2025-Mar-13 13:51:19.044871 Initializing full warp-mode\n2025-Mar-13 13:51:19.045871 Using db items cache size(L2): 38.91 M items\n2025-Mar-13 13:51:19.049737 [Warp]: Setting up db cache to 38.91 M items.....\n2025-Mar-13 13:51:19.051743 [Warp]: Detected only 53.99 GB RAM, might be not optimal, recommended above 64.00 GB\n2025-Mar-13 13:51:19.053738 [Warp]: Launching warm up....\n2025-Mar-13 13:51:19.055737 Warming up starting, total blocks...3064647\n2025-Mar-13 13:51:19.059450 Warming up: 0%, 1 of 3064647\n2025-Mar-13 13:51:52.573744 Warming up: 0%, 28812 of 3064647\n2025-Mar-13 13:51:54.604781 Warming up: 1%, 30979 of 3064647\n2025-Mar-13 13:52:19.995541 Warming up: 1%, 61177 of 3064647\n.....\n2025-Mar-13 13:52:19.995541 [Warp]: Warm up finished!\n")),(0,r.kt)("p",null,'This command line option reconfigure core cache paprameters and then "warm up" all data stored in databse into cache(which might take some time - up to 10 minutes), and after that the server would start handling network reaquests(RPC and P2P).'),(0,r.kt)("h3",{id:"technical-note"},"Technical Note"),(0,r.kt)("p",null,"From a technical standpoint, the getblocks.bin RPC request essential for wallet synchronization and one of the most time-consuming operations must load each of roughly 4,000 blocks from the database and then deserialize them into C++ structures. The same process is repeated for every transaction within each block. To alleviate this load, Zano introduced a special caching mechanism about seven years ago. Each database table has its own cache, which by default can hold around 10,000 items. This lets the daemon quickly carry out tasks needed for fast block validation (for example, calculating various block medians or recalculating the next difficulty)."),(0,r.kt)("p",null,"To further enhance performance in production, we decided to fully leverage this cache by setting its size larger than the entire storage. This ensures that all blocks and transactions remain \u201chot\u201d loaded and deserialized at all times. Currently, with over three million blocks, a fully loaded database is about 35GB. We expect this size to grow, though wallet requests typically focus on more recent blocks. Even if, in the future, the loaded database exceeds the amount of physical RAM, WARP-mode will still be significantly more efficient because any swapping is efficiently handled at the operating system level, and there is no additional deserialization phase."))}p.isMDXComponent=!0}}]);